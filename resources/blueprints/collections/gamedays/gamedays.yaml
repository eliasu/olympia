title: Gamedays
tabs:
  main:
    display: Main
    sections:
      -
        fields:
          -
            handle: title
            field:
              type: text
              required: true
              display: Title
              instructions: 'Typically "LeagueName - Date"'
              validate:
                - required
          -
            handle: present_players
            field:
              type: entries
              collections:
                - players
              display: 'Present Players'
              mode: select
          -
            handle: matches
            field:
              type: entries
              mode: stack
              collections:
                - matches
              display: Matches
  results:
    display: Results
    sections:
      -
        display: 'Gameday Rankings'
        fields:
          -
            handle: gameday_rankings
            field:
              type: grid
              display: 'Daily Leaderboard'
              instructions: 'Calculated automatically when gameday is finalized - shows who won the day!'
              visibility: read_only
              reorderable: false
              add_row: false
              delete_row: false
              fields:
                -
                  handle: rank
                  field:
                    type: integer
                    display: Rank
                    width: 10
                -
                  handle: player
                  field:
                    type: entries
                    collections:
                      - players
                    max_items: 1
                    display: Player
                    width: 25
                -
                  handle: matches_played
                  field:
                    type: integer
                    display: Matches
                    width: 10
                -
                  handle: wins
                  field:
                    type: integer
                    display: W
                    width: 8
                -
                  handle: losses
                  field:
                    type: integer
                    display: L
                    width: 8
                -
                  handle: win_percentage
                  field:
                    type: float
                    display: 'Win %'
                    width: 12
                -
                  handle: elo_start
                  field:
                    type: float
                    display: 'Elo Start'
                    width: 12
                -
                  handle: elo_end
                  field:
                    type: float
                    display: 'Elo End'
                    width: 12
                -
                  handle: elo_gain
                  field:
                    type: float
                    display: 'Elo Gain'
                    instructions: 'Can be negative'
                    width: 12
  sidebar:
    display: Sidebar
    sections:
      -
        fields:
          -
            handle: slug
            field:
              type: slug
              localizable: true
              validate: 'max:200'
          -
            handle: date
            field:
              type: date
              required: true
              default: now
              display: Date
              validate:
                - required
          -
            handle: league
            field:
              max_items: 1
              collections:
                - leagues
              type: entries
              display: League
              mode: select
          -
            handle: generated_plan
            field:
              type: toggle
              display: 'Plan Generated'
              visibility: read_only
              width: 50
          -
            handle: is_finished
            field:
              type: toggle
              display: Finished
              visibility: read_only
              width: 50
          -
            handle: courts_count
            field:
              type: integer
              display: 'Courts Count'
              validate:
                - required
          -
            handle: games_per_court
            field:
              type: integer
              display: 'Games per Court'
              validate:
                - required