<div class="max-w-3xl mx-auto py-8">
    <div class="bg-white rounded-lg shadow p-6 mb-6 flex items-center gap-6">
        <div class="w-24 h-24 rounded-full overflow-hidden bg-gray-200">
            {{ if avatar }}
                <img src="{{ avatar }}" alt="{{ title }}" class="w-full h-full object-cover">
            {{ else }}
                <div class="w-full h-full flex items-center justify-center text-gray-400 text-3xl font-bold">
                    {{ title | substr:0:1 }}
                </div>
            {{ /if }}
        </div>
        <div>
            <h1 class="text-3xl font-bold mb-2">{{ title }}</h1>
            <div class="flex gap-4 text-sm text-gray-600">
                <div class="bg-blue-50 px-3 py-1 rounded">
                    <span class="block text-xs uppercase tracking-wide text-blue-500 font-bold">Elo</span>
                    <span class="text-xl font-mono font-bold text-blue-700">{{ global_elo | number_format:1 }}</span>
                </div>
                <div class="bg-gray-50 px-3 py-1 rounded">
                    <span class="block text-xs uppercase tracking-wide text-gray-500 font-bold">Games</span>
                    <span class="text-xl font-mono font-bold text-gray-700">{{ total_games }}</span>
                </div>
                <div class="bg-gray-50 px-3 py-1 rounded">
                    <span class="block text-xs uppercase tracking-wide text-gray-500 font-bold">Days</span>
                    <span class="text-xl font-mono font-bold text-gray-700">{{ played_game_days }}</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Match History -->
    <div class="bg-white rounded-lg shadow overflow-hidden">
        <h2 class="bg-gray-50 px-6 py-4 border-b font-bold text-gray-700">Recent Matches</h2>
        <div class="divide-y">
            {{ collection:matches team_a:contains="{id}"|team_b:contains="{id}" sort="date:desc" limit="10" }}
            {{ if no_results }}
                <div class="p-6 text-center text-gray-500">No matches found.</div>
            {{ /if }}
                <div class="p-4 flex items-center justify-between hover:bg-gray-50">
                    <div class="text-sm">
                        <div class="font-bold text-gray-700">{{ title }}</div>
                        <div class="text-gray-500 text-xs">{{ session_id:date }}</div>
                    </div>
                    
                    <div class="flex items-center gap-4">
                        <!-- Determine result -->
                        {{# Simple logic to determine if won or lost #}}
                        {{ is_team_a = team_a | contains:id }}
                        {{ my_score = is_team_a ? score_a : score_b }}
                        {{ opp_score = is_team_a ? score_b : score_a }}
                        
                        <div class="font-mono font-bold text-lg {{ my_score > opp_score ? 'text-green-600' : 'text-red-500' }}">
                            {{ my_score }} - {{ opp_score }}
                        </div>
                        
                        <div class="w-16 text-right text-xs pt-1">
                           {{ if elo_delta }}
                                {{ delta = is_team_a ? elo_delta : (elo_delta * -1) }}
                                <span class="{{ delta > 0 ? 'text-green-600' : 'text-red-600' }}">
                                    {{ delta > 0 ? '+' : '' }}{{ delta | number_format:1 }}
                                </span>
                           {{ /if }}
                        </div>
                    </div>
                </div>
            {{ /collection:matches }}
        </div>
    </div>
</div>
